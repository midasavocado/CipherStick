<body>
  <img id="screen" src="http://agentx.cipherstick.tech/command/?action=screenshare&amp;monitor=2&amp;key=SaulsFam5523$@CoNtRoL" draggable="false" style="width: 100%; height: 100%">
  <script>
const img = document.getElementById("screen");
img.ondragstart = () => false;

const MONITOR_CHOICE = "2";  // "1", "2", or "both"
const SINGLE_WIDTH = 3840;
const HEIGHT = 2160;

// Determine horizontal offset and total width
let OFFSET_X = 0;
let TOTAL_WIDTH = SINGLE_WIDTH;

if (MONITOR_CHOICE === "1") {
  OFFSET_X = -SINGLE_WIDTH;
} else if (MONITOR_CHOICE === "both") {
  OFFSET_X = -SINGLE_WIDTH;
  TOTAL_WIDTH = SINGLE_WIDTH * 2;
}

// Use image dimensions for scaling
document.addEventListener("mousemove", e => {

  const imgWidth = img.clientWidth;
  const imgHeight = img.clientHeight;

  const rect = img.getBoundingClientRect();
  const mouseX = e.x - rect.left;
  const mouseY = e.y - rect.top;

let scaledX;
let scaledY;

  if (MONITOR_CHOICE === "both") {
    scaledX = 0
    scaledY = 0
  } else {
    scaledX = Math.floor((mouseX / imgWidth) * SINGLE_WIDTH) + OFFSET_X;
  }

   scaledY = Math.floor((mouseY / imgHeight) * HEIGHT);


console.log("X:"+scaledX)
console.log("Y:"+scaledY)

  fetch("https://agentx.cipherstick.tech/command/?action=mousemove&x="+scaledX+"&y="+scaledY+"&key=SaulsFam5523$@CoNtRoL").catch(() => {});
});

document.addEventListener("mousedown", e => {
    fetch("https://agentx.cipherstick.tech/command/?action=mousedown&key=SaulsFam5523$@CoNtRoL").catch(() => {});
});

document.addEventListener("mouseup", e => {
    fetch("https://agentx.cipherstick.tech/command/?action=mouseup&key=SaulsFam5523$@CoNtRoL").catch(() => {});
});

document.addEventListener("contextmenu", e => {
  e.preventDefault();
  fetch("https://agentx.cipherstick.tech/command/?action=rightclick&key=SaulsFam5523$@CoNtRoL").catch(() => {});
});

document.addEventListener("keydown", e => {
  fetch("https://agentx.cipherstick.tech/command/?action=keypress&arg=" + encodeURIComponent(e.key) + "&key=SaulsFam5523$@CoNtRoL").catch(() => {});
});

document.addEventListener("wheel", e => {
  const delta = Math.sign(e.deltaY);
  fetch("https://agentx.cipherstick.tech/command/?action=scroll&arg="+delta+"&key=SaulsFam5523$@CoNtRoL").catch(() => {});
});
</script>


</body>